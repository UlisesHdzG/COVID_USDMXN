<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Data transformation | Covid impact: US vs Mexico</title>
  <meta name="description" content="Chapter 3 Data transformation | Covid impact: US vs Mexico" />
  <meta name="generator" content="bookdown 0.29 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Data transformation | Covid impact: US vs Mexico" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Data transformation | Covid impact: US vs Mexico" />
  
  
  

<meta name="author" content="Gilberto Garcia Perez (gg2831)" />
<meta name="author" content="Pablo Ulises Hernandez Garces (ph2632)" />
<meta name="author" content="Abel Perez Vargas (ap4015)" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-sources.html"/>
<link rel="next" href="missing-values.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Covid US Mexico</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-sources.html"><a href="data-sources.html#health-data"><i class="fa fa-check"></i><b>2.1</b> Health data</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="data-sources.html"><a href="data-sources.html#epidemiological-variables"><i class="fa fa-check"></i><b>2.1.1</b> Epidemiological variables</a></li>
<li class="chapter" data-level="2.1.2" data-path="data-sources.html"><a href="data-sources.html#policy-measures"><i class="fa fa-check"></i><b>2.1.2</b> Policy measures</a></li>
<li class="chapter" data-level="2.1.3" data-path="data-sources.html"><a href="data-sources.html#administrative-areas"><i class="fa fa-check"></i><b>2.1.3</b> Administrative areas</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="data-sources.html"><a href="data-sources.html#macroeconomic-data"><i class="fa fa-check"></i><b>2.2</b> Macroeconomic data</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="data-sources.html"><a href="data-sources.html#economic-growth"><i class="fa fa-check"></i><b>2.2.1</b> Economic Growth</a></li>
<li class="chapter" data-level="2.2.2" data-path="data-sources.html"><a href="data-sources.html#inflation"><i class="fa fa-check"></i><b>2.2.2</b> Inflation</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="data-sources.html"><a href="data-sources.html#financial-data"><i class="fa fa-check"></i><b>2.3</b> Financial data</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-transformation.html"><a href="data-transformation.html#health-variables"><i class="fa fa-check"></i><b>3.1</b> Health variables</a></li>
<li class="chapter" data-level="3.2" data-path="data-transformation.html"><a href="data-transformation.html#economic-variables"><i class="fa fa-check"></i><b>3.2</b> Economic variables</a></li>
<li class="chapter" data-level="3.3" data-path="data-transformation.html"><a href="data-transformation.html#financial-variables"><i class="fa fa-check"></i><b>3.3</b> Financial variables</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values</a></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a>
<ul>
<li class="chapter" data-level="5.1" data-path="results.html"><a href="results.html#which-economy-suffered-the-most-during-the-pandemic"><i class="fa fa-check"></i><b>5.1</b> Which economy suffered the most during the pandemic?</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="results.html"><a href="results.html#health-vertical"><i class="fa fa-check"></i><b>5.1.1</b> Health Vertical</a></li>
<li class="chapter" data-level="5.1.2" data-path="results.html"><a href="results.html#economic-and-financial-vertical"><i class="fa fa-check"></i><b>5.1.2</b> Economic and Financial Vertical</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="results.html"><a href="results.html#relation-between-public-health-and-economic-conditions-in-each-country"><i class="fa fa-check"></i><b>5.2</b> Relation between public health and economic conditions in each country</a></li>
<li class="chapter" data-level="5.3" data-path="results.html"><a href="results.html#which-government-designed-the-most-effective-public-policies-to-deal-with-the-pandemic"><i class="fa fa-check"></i><b>5.3</b> Which government designed the most effective public policies to deal with the pandemic?</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component</a>
<ul>
<li class="chapter" data-level="6.1" data-path="interactive-component.html"><a href="interactive-component.html#data-process"><i class="fa fa-check"></i><b>6.1</b> Data process</a></li>
<li class="chapter" data-level="6.2" data-path="interactive-component.html"><a href="interactive-component.html#interactive-plot"><i class="fa fa-check"></i><b>6.2</b> Interactive plot</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion</a>
<ul>
<li class="chapter" data-level="7.1" data-path="conclusion.html"><a href="conclusion.html#health-dimension"><i class="fa fa-check"></i><b>7.1</b> Health dimension</a></li>
<li class="chapter" data-level="7.2" data-path="conclusion.html"><a href="conclusion.html#economic-and-financial-impact-and-recovery"><i class="fa fa-check"></i><b>7.2</b> Economic and financial impact and recovery</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Covid impact: US vs Mexico</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-transformation" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Chapter 3</span> Data transformation<a href="data-transformation.html#data-transformation" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Depending on the type of variables, different data transformations were applied in order to make the proper analysis. As is natural with time-series data, many of the transformations had to do with a way of dealing with trends or change in the longitudinal, although in some instances this trending behaviour was desired in order to make proper comparisons.</p>
<div id="health-variables" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Health variables<a href="data-transformation.html#health-variables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In this category of variables, the main purpose of the transformations was to provide a way to make comparison of daily cases and deaths related to COVID-19, and also vaccination rates when this information became available. The methodology we followed was to take the ratio of the Mexican target metric over the American target metric. For example, in the case of daily COVID-19 confirmed cases, we created a new time series that was calculated as by dividing the daily count of COVID-19 cases in Mexico divided by the corresponding daily count of COVID-19 cases in the United States. Therefore, a number greater that 1 for this index means that coronavirus cases in Mexico increased more rapidly than cases in the United States, and vice versa for an index value less than 1. The code we used for transforming this data can be found <a href="https://github.com/EDAV-Section2-FP34/covidUSMexico/blob/main/datos_series.R">here</a>.</p>
</div>
<div id="economic-variables" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Economic variables<a href="data-transformation.html#economic-variables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The main challenge in this category of data was to match the different definitions of economic activity in the Mexican and in the US. Government agencies in Mexico and the US follow classifications of economic enterprises and data, and hence, the bulk of the transformations we used here focused on making an appropriate matching of levels in the two countries.</p>
</div>
<div id="financial-variables" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> Financial variables<a href="data-transformation.html#financial-variables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Finally, financial variables data required the standardization of the price (levels) of the different indices that were gathered, in a way that would clearly show the sectors and indices that outperformed the index average, as well as to give a clear picture of abrupt movement of financial markets when pandemic begun. In addition, given that this data was downloaded through an API, the data required the usual pivot longer transformations in order to be arranged in a desired format. The code we used to download these data and make the initial set of transformations can be found <a href="https://github.com/EDAV-Section2-FP34/covidUSMexico/blob/main/Data/financial%20data.R">here</a>.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-sources.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="missing-values.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/EDAV-Section2-FP34/covidUSMexico/edit/main/03-cleaning.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/EDAV-Section2-FP34/covidUSMexico/blob/main/03-cleaning.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
